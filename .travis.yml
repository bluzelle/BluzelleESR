language: node_js
sudo: required
node_js:
- 8.11.3
env:
  matrix:
  - CXX=g++-4.8
  global:
  - secure: Qb7OFr5sP2NPHMD9asx8aWwDcYjKPTanNkE0wYchUMUuDBrUkR/x9Asfn5ZWsRA7XSpL83WgddI6YrnW5waIpBztS3Urx2A0di0BKzm8ULWzQEsZFj38643nWp9381rKcFTU9eSSNiaPXe5bHyeZhodJ51tGDjBsBkxQyfH+CWvKFs4nJFOJP/PvDUa/PJPMnc8p3RDcXHP6C0XPNIrBdFSa/+9Di8YTDRqtmz2Onnqpg1GxRWhgiz+Ukhexwf+CT56bV5FlkTRJt1tjAqNSdMi4cQ5HJ2hNgFwgdTiuVadZ3TwwP6j2Mo/WXa8RzNZ1hy5jAmNNZLs2/VF3I9h9sDCNyWRBcc9UusC6X5etyQjAm/URPGOeaOHTCmtr64IVMJDsC7ta6qRcCt8z6y0FCp6Q9gDtpib16UfSeLffGq7uH3CmZiTrmhdLoPPS38Ngm8rGVuff0sZntv5u+whiGNWkxL0zUum2Yo0HV9TKUgVMBkl7YeYU3Fib8hp+oUMo+13Nje2S+ZtrhPT/Xc87lsNhsk785dHKsYcM1EhLYXys7neUEMVGKr5N1wWlzfbVFXfmBhGJLJ6C09eyHsjDq93eLKlS4W7BRFYAmXdsJEJoDMt/aaKjtn7U5vu9UCGOY1cA280ZANiwohGzlmNiY7zn6svjTLOQ5FK+GhLuO3U=
  - secure: OUsa+hvam8irBIAWnylEcoGQaH6Gnt7JgoPBqhuZg7iFLNzqnjrUjQ/ahLMjmNGur542WFqTIyhRO9cQpnSXE4MbdpRvx8EPWeamD+Qxv0R0LE+8/GtgjhP08pokZL1162s2wFPz/eNHhc7lzH6h69fPYvmBMIRukvH2Hn/RcSVUuUGWj22WQ8K7/Cjm9sQ+KQ8cOCgl3Qfcy6Hzc2sjMcDDbB2sCWV4PDjiybboDU8lDl6hgN1/rMljjPiM7HTuhee3XqeJUs/srP8Xc/RW/B+2Rk1BEMuwHVsaBf0C3+L8iL6Tsx2AIBDdj7UuN3v3S8R5c5BifsM9A9QGfHAR3Gtu9E8nXf1dMqm4HVGtsQoe8d5jni47E89Joh/+Xu53hrtbKDEuey9+o90c+0W70Fq7HzYZEGzs1GXlvUK1KOFs60aRkw1fTI7iXoy946Yns6oOtboC5NUQMHP8Roxa/0Wpr48LjigfyJFCPPeaVupMbYJnTsJePRSEWEldTXSJ8cFWu5OVdREtQvr8ApdPeFoADBv7pkc4bw22KUxx9hv7M/9JTrpEOQNA8ZzLAuqoNGY2Q5Gn0fUyv45TNumOA05hyMKVKiv0BwerBbMYABC56QfapmHBJ1HBYBe6/rA3XcT0GXbKqUphD1u+RUq7Vp2ItuX/mCRB4Tafc29ZBsA=
  - secure: IJFeKn2o2myOxObnif77i9kdqJeywceoF4xMva1vvoOb+5q9FbNWvstl8o7k/UnWF1hW0BMu3PfHqYav7koQrmVacEUkizoKDhaHJ1CzLCyHYTlp+4Hb080oc/lap83Dbn0azvYqxuzLJRhQ2K4ZKNfvdiaQl4sn7jo1qk3nZj0WFlDXtSrtXbrA+SVHVtCnll4kGDmzrtnZRiuOMB/pL3R7eXvl7URG/M2WfL3oCRPUP4r0OtrGN/LsU4zqVby1/o9BOCDXRgDK1oRc5nkziiVsN0CZsIFBkrhpb4oP1PyQK3zBr20851qAhcbuR+gqoAQhQA1L7wUOb3uMIY+b8d3tw6iFhhgA5IeA6JTp5OD6RizlBN4uy/Rqx4Z2KflVzGJM0Tq4c9FYN5AGX2ATHg1wAHZfSAPbjXfdm5Ua7tqf+PHGI5sRach70ytJ1c5fnMccZutFILOLh5W/PsShzWLtT8o+2VlQ9LkKpxq4u+XGXJ09re8jR9D8fQ88e2zMwx88PpAdhZ8Z7l2jWVEp2keVTQLsdtIxrbOhOQB0j//VrvWDTRpwYqscrsKk3QLxqyWlrHiJZ/yoGD6/Gy0Qoncnyzbt+wxB0HGlBK/AsU/2UUr5w0d+5GjDiDCJphQGr3B7g7Fj/z6kLUNRfB9ETPYPtnAR6qn4BjrhvlPpd/0=
  - secure: lZqHMWQEbUVu9Lc4UzR3ROmBLh4t3B5l7wBGAZ+AxYR3d09TTTLnGF2fKAaX98HEChhZyVr3oGLyv798i1SUXeFolpMzfIeXdE8OJRLH8q8dtJ09tBp78Yk9cY9YknWBQzYhZx9wqQihAdv/xjs3VHnJ91N0fwYqIyWL3FC6ZKFh1ImiJZ3ifh0ebZ1IQ/d+DGEJ7AQ49zX/8Ec7Hici+Zu0L73FmsvHaSZhMeKEAq2EzgbW0s1ave8VQGCRx1RzNuCy62VqUg0qIQg8yPo1Qc8GY20TcRckW9vbHnJUiTfm9CE9yWF9P1lug9PtXWPOYVac56gHUdlA4DxHktALTpDsOGhFsdGGlebaJhhNw6CIrnurwLPeXRchV0rWrhV6QIjB5qbuazmhF7Ds2wQ8xO6aD3gFcvkHMXVzVV8MUufEdmqjnMLJ3MDL8morCG60aa+fsNshXs/5RVuVJ9LkmHvA0rSSwFIUw2mSfpf5f8DFTGX6PV2FEu0HciWwXkaJTCUoIub5e+YF0LcHI7WT6i4GgwFj8laTMO0G+eDRfx/6X8Tnj8LRcwZuwhGE1sEcy7pIRDHXlv3FrHUju/Agc4wRx2KU61KiKog3oiODRdN1Dv4nsALmiqgyrNQW4A0jeOVCckmpELrsfwcDETEPnRS6rAZumwISqU1Y3p6kmLg=
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - build-essential
    - g++-4.8
before_install:
- export CXX="g++-4.8"
- npm install -g npm@latest
- npm install -g ganache-cli truffle
- npm install -g @cleanunicorn/mythos
install:
- npm install
- npm install truffle-hdwallet-provider
script:
- ganache-cli &
- truffle test
- mythos analyze contracts/BluzelleESR.sol BluzelleESR --mythxEthAddress=$MYTHX_ETH_ADDRESS
  --mythxPassword=$MYTHX_PASSWORD
- truffle compile
- truffle exec scripts/deploy_test.js --network ropsten
